<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <nav class="navbar navbar-expand-lg navbar-light bg-light navbar navbar-dark bg-dark">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <div class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link" href="/detail">Conocer los Quality Gates</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/config">Configuración % Atributos de Calidad</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/configqg">Configuración % Quality Gates</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/">Administrar Quality Gates</a>
                </li>
              </div>
            </div>      
          </nav>
        <link rel="stylesheet" 
        href="https://bootswatch.com/4/materia/bootstrap.min.css">
     </head>
    <body>
    <form action="/addPercentqg" method="post" style="text-align:center">   
        <input type="hidden" name = "ID" class="form-control" id="ID" placeholder="ID" style="text-align:center" value=<%=data.ID%>>
        <br></br>
         <h5>NOMBRE PROYECTO:</h5>
         <input type="text" name = "NOMBREPROYECTO" class="form-control" id="NOMBREPROYECTO" placeholder="NOMBREPROYECTO" style="text-align:center" value=<%=data.NOMBREPROYECTO%>>                 

            <div class="container">
                <h2>Funcionalidad:</h2>
                <table class="table table-bordered">
                <thead>
                    <tr>
                    <th>Quality Gate</th>
                    <th>Medición</th>
                    <th>Porcentaje de Peso</th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                    <td>El 100 % de las HU son aprobadas antes de desplegadar a un ambiente productivo</td>
                    <td>(Cantidad de HU aprobadas / HU totales) * 100</td>                    <td>
                        <div class="md-form form-group">
                            <input type="number" name = "PERCENT_QG_CRITERIOS" class="form-control" id="PERCENT_QG_CRITERIOS" placeholder="%">
                        </div>
                    </td>
                    </tr>

                    <tr>
                    <td>El 100% de las API deben estar registradas en un documento con su respectivo contrato, debe contener la descripción de los mensajes de respuesta ante los fallos y los escenarios posibles. Este documento debe estar actualizado durante todo el proceso de desarrollo. Generar diccionario detallado de los mensajes de error por cada estado.</td>
                    <td>(Cantidad api(endpoints) integradas con otra aplicaciones y bien documentadas / total apis)*100</td>
                    <td>
                        <div class="md-form form-group">
                            <input type="number" name = "PERCENT_QG_ENDPOINTS" class="form-control" id="PERCENT_QG_ENDPOINTS" placeholder="%">
                        </div>
                    </td>
                    </tr>
                </tbody>    
                </table>
            </div>

            <div class="container">
                <h2>Fiabilidad/confiabilidad:</h2>
                <table class="table table-bordered">
                <thead>
                    <tr>
                    <th>Quality Gate</th>
                    <th>Medición</th>
                    <th>Porcentaje de Peso</th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                    <td>El proyecto tiene descrito y graficado el proceso de soporte, este proceso debe tener; clasificación de incidentes, recurrencia de los incidentes, clasificación del impacto de los incidentes, descripción de garantías y niveles de servicio.</td>
                    <td>Si - 100% , No - 0%</td>        	
                    <td>
                        <div class="md-form form-group">
                            <input type="number" name = "PERCENT_QG_SOPORTE" class="form-control" id="PERCENT_QG_SOPORTE" placeholder="%">
                        </div>
                    </td>
                    </tr>

                    <tr>
                        <td>Los componentes que son críticos dentro de la solución deben tener descrito cuál es el proceso o mecanismo que se optará en caso de que se llegue a presentar un cuello de botella.</td>
                        <td>Si  - 100% , No - 0%</td>        	
                        <td>
                            <div class="md-form form-group">
                                <input type="number" name = "PERCENT_QG_SOPORTEDOC" class="form-control" id="PERCENT_QG_SOPORTEDOC" placeholder="%">
                            </div>
                        </td>
                     </tr>

                </table>
            </div>


            <div class="container">
                <h2>Mantenibilidad:</h2>
                <table class="table table-bordered">
                </tbody>
                <thead>
                    <tr>
                    <th>Quality Gate</th>
                    <th>Medición</th>
                    <th>Porcentaje de Peso</th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                    <td>La arquitectura de la aplicación tiene separación de capas, y de responsabilidades utilizando patrones de desarrollo.</td>
                    <td>Si  - 100% , No - 0%</td>        	
                    <td>
                        <div class="md-form form-group">
                            <input type="number" name = "PERCENT_QG_CAPAS" class="form-control" id="PERCENT_QG_CAPAS" placeholder="%">
                        </div>
                    </td>
                    </tr>
 
                     <tr>
                        <td>El proceso de soporte definido para la aplicación debe ser conocido por el área de soporte de TI.</td>
                        <td>Si  - 100% , No - 0%</td>        	
                        <td>
                            <div class="md-form form-group">
                                <input type="number" name = "PERCENT_QG_SOPORTETI" class="form-control" id="PERCENT_QG_SOPORTETI" placeholder="%">
                            </div>
                        </td>
                     </tr>

                    <tr>
                    <td>Máximo se permite 1 code smells de análisis de código estático por cada 500 líneas</td>
                    <td>(1-(cantidad de code smells registrados en sonar-(cantidad de lineas de codigo/500))*cantidad de issues registrados en sonar*0,0001)*100</td>
                    <td>
                        <div class="md-form form-group">
                            <input type="number" name = "PERCENT_QG_SMELL" class="form-control" id="PERCENT_QG_SMELL" placeholder="%">
                        </div>
                    </td>
                    </tr>

                    <tr>
                    <td>Máximo se permite 1 error de análisis de código estático por cada 500 líneas</td>
                    <td>(1-(cantidad de issues registrados en sonar-(cantidad de lineas de codigo/500))*cantidad de issues registrados en sonar*0,0001)*100</td>
                    <td>
                        <div class="md-form form-group">
                            <input type="number" name = "PERCENT_QG_ERRORES" class="form-control" id="PERCENT_QG_ERRORES" placeholder="%">
                        </div>
                    </td>
                    </tr>


                    <tr>
                    <td>El % la cobertura de pruebas debe ser superior al 50%</td>
                    <td>((% Cobertura de pruebas de sonarqube + 6 % de Margen de error de sonarqube)/100)*100</td>
                    <td>
                        <div class="md-form form-group">
                            <input type="number" name = "PERCENT_QG_COBERTURA" class="form-control" id="PERCENT_QG_COBERTURA" placeholder="%">
                        </div>
                    </td>
                    </tr>

                    <tr>
                    <td>El % de código duplicado debe estar por debajo del 3%</td>
                    <td>1 - ((%de codigo duplicado registrado en sonar/100)*100 - 3% de holgura de error)/100</td>   
                    <td>
                        <div class="md-form form-group">
                            <input type="number" name = "PERCENT_QG_DUPLICADO" class="form-control" id="PERCENT_QG_DUPLICADO" placeholder="%">
                        </div>
                    </td>
                    </tr>

                </tbody>
                </table>
            </div>
            
            <div class="container">
                <h2>Rendimiento/Eficiencia:</h2>
                <table class="table table-bordered">
                <thead>
                    <tr>
                    <th>Quality Gate</th>
                    <th>Medición</th>
                    <th>Porcentaje de Peso</th>
                    </tr>
                </thead>
                <tbody>          			           
                    <tr>
                    <td>Las api deben responder en un tiempo promedio de respuesta igual o menor a 2 segundos c/u.</td>
                    <td>(Cantidad de Apis con Tiempo aceptable/Cantidad de Apis Totales) *100</td>         	
                    <td>
                        <div class="md-form form-group">
                            <input type="number" name = "PERCENT_TIME" class="form-control" id="PERCENT_TIME" placeholder="%">
                        </div>
                    </td> 
                </tr>
                </tbody>  
                </table>
            </div>

            <div class="container">
                <h2>Usabilidad:</h2>
                <p>La Usabilidad es la medida de la calidad de la experiencia que tiene un usuario cuando interactúa con un producto o sistema.</p>
            </div>

            <div class="container">
                <h2>Seguridad:</h2>
                <table class="table table-bordered">
                    <thead>
                        <tr>
                        <th>Quality Gate</th>
                        <th>Medición</th>
                        <th>Porcentaje de Peso</th>
                        </tr>
                    </thead>
                    <tbody>                                                                        
                        <tr>
                            <td>El estado de todos los puertos del servidor se debe encuentrar protegido.</td>
                            <td>Si - 100% , No - 0%</td>
                            <td>
                                <div class="md-form form-group">
                                    <input type="number" name = "PERCENT_QG_PORT" class="form-control" id="PERCENT_QG_PORT" placeholder="%">
                                </div>
                            </td>       	
                        </tr>
                        <tr>
                            <td>Proteger el servidor contra inyección SQL o NoSQL.</td>
                            <td>Si - 100% , No - 0%</td>
                            <td>
                                <div class="md-form form-group">
                                    <input type="number" name = "PERCENT_QG_SQL" class="form-control" id="PERCENT_QG_SQL" placeholder="%">
                                </div>
                            </td>       	
                        </tr>
                        <tr>
                            <td>Restricción en la ejecución de métodos de acceso como son GET, POST,DELETE.</td>
                            <td>Si - 100% , No - 0%</td>    
                            <td>
                                <div class="md-form form-group">
                                    <input type="number" name = "PERCENT_QG_METODOS" class="form-control" id="PERCENT_QG_METODOS" placeholder="%">
                                </div>
                            </td>       	
                        </tr>
                        <tr>
                            <td>Máximo se permite 1 vulnerabilidad de análisis de código estático por cada 500 líneas</td>
                            <td>(1-(cantidad de vulnerabilidad registrados en sonar-(cantidad de lineas de codigo/500))*cantidad de vulnerabilidad registrados en sonar*0,0001)*100</td>           
                            <td>
                                <div class="md-form form-group">
                                    <input type="number" name = "PERCENT_QG_VULNERABILIDADES" class="form-control" id="PERCENT_QG_VULNERABILIDADES" placeholder="%">
                                </div>
                            </td>       	
                        </tr>
                    <tbody>
                </table>
            </div>

            <div class="container">
                <h2>Portabilidad:</h2>
                <p>Se refiere exclusivamente a la propiedad que posee un software que le permite ser ejecutado en diferentes plataformas y/o sistemas operativos.</p>
            </div>
            <div style="text-align:center">
                <button type="submit" class="btn btn-info mb-2" style="text-align:center" >Guardar</button>  
            </div>
    </form>
            <table class="table table-bordered table-hover">
                <thead class="thead-dark">
                <tr>
                    <th>% N°</th>
                    <th>% NOMBRE DEL PROYECTO</th>
                    <th>% Q1</th>
                    <th>% Q2</th>
                    <th>% Q3</th>
                    <th>% Q4</th>
                    <th>% Q5</th>
                    <th>% Q6</th>
                    <th>% Q7</th>
                    <th>% Q8</th>
                    <th>% Q9</th>
                    <th>% Q10</th>
                    <th>% Q11</th>
                    <th>% Q12</th>
                    <th>% Q13</th>
                    <th>% Q14</th>
                    <th>% Q15</th>
                    <th>ACCIONES</th>
                </tr>
                </thead>
                <tbody>
                    <% if (data) { %>
                    <% for (var i=0; i<data.length; i++) { %>
                        <tr>
                            <td><%=(i+1)%></td>
                            <td><%=data[i].NOMBREPROYECTO%></td>
                            <td><%=data[i].PERCENT_QG_CRITERIOS%></td>
                            <td><%=data[i].PERCENT_QG_ENDPOINTS%></td>
                            <td><%=data[i].PERCENT_QG_SOPORTE%></td>
                            <td><%=data[i].PERCENT_QG_CAPAS%></td>
                            <td><%=data[i].PERCENT_QG_SOPORTEDOC%></td>
                            <td><%=data[i].PERCENT_QG_SOPORTETI%></td>
                            <td><%=data[i].PERCENT_QG_SMELL%></td>
                            <td><%=data[i].PERCENT_QG_ERRORES%></td>
                            <td><%=data[i].PERCENT_QG_COBERTURA%></td>
                            <td><%=data[i].PERCENT_QG_DUPLICADO%></td>
                            <td><%=data[i].PERCENT_TIME%></td>
                            <td><%=data[i].PERCENT_QG_PORT%></td>
                            <td><%=data[i].PERCENT_QG_SQL%></td>
                            <td><%=data[i].PERCENT_QG_METODOS%></td>      
                            <td><%=data[i].PERCENT_QG_VULNERABILIDADES%></td>      
                          
                            <td> 
                                <a href="/<%=data[i].ID%>" class="btn btn-info">Diligenciar Estado del proyecto</a>
                                <br></br>
                                <a href="/update/<%=data[i].ID%>" class="btn btn-info">Actualizar</a>
                                <br></br>
                                <a href="/delete/<%=data[i].ID%>" class="btn btn-danger">Eliminar</a>
                            </td>
                        </tr>
                    <% } %>
                    <% } %>
                </tbody>
            </table>
            <form action="/" method="get" style="text-align:center">
                <div style="text-align:center">
                    <button type="submit" class="btn btn-info mb-2" style="text-align:center" >Consultar los proyectos diligenciados ></button>  
                </div>
            </form>
    </body>
</html>